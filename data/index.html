<!DOCTYPE html><html lang=pt-br><head><meta charset=UTF-8><title>Bancada Didática - Painel de Controle</title><style>:root{--bg-color:#121212;--card-bg:#1e1e1e;--text-color:#e0e0e0;--accent-color:#00ff9d;--danger-color:#ff4b2b;--border-color:#333}body{background-color:var(--bg-color);color:var(--text-color);font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;margin:0;padding:20px}header{display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid var(--accent-color);padding-bottom:10px;margin-bottom:30px}.grid-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px}.card{background:var(--card-bg);padding:20px;border-radius:8px;border:1px solid var(--border-color);text-align:center;box-shadow:0 4px 6px rgba(0,0,0,0.3)}.card h3{margin:0;font-size:0.9rem;color:#888}.card p{font-size:2.5rem;font-weight:bold;color:var(--accent-color);margin:10px 0}#rpm1{color:#ff4d4d}#rpm2{color:#4da6ff}#rpm3{color:#00ff88}#rpm4{color:#ffd633}.chart-container{background:var(--card-bg);padding:20px;border-radius:8px;margin-bottom:30px}#operatorControl{border:2px dashed var(--accent-color);padding:20px;border-radius:12px;animation:fadeIn 0.5s}.hidden{display:none}.btn-group{display:flex;gap:15px;justify-content:center;margin:20px 0}button{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-weight:bold;text-transform:uppercase}.btn-on{background:#28a745;color:white}.btn-off{background:var(--danger-color);color:white}input[type=range]{width:100%;margin:20px 0}.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);justify-content:center;align-items:center}.modal-content{background:var(--card-bg);padding:40px;border-radius:10px;border:1px solid var(--accent-color);text-align:center}@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}</style><script src=lib/chart.umd.min.js></script></head><body class=dark-theme><header><h1>Bancada de Elementos de Máquina</h1><button id=loginBtn onclick=openModal()>Login Operador</button></header><main><section class=grid-container><div class=card><h3>Motor RPM</h3><p id=rpm1>0</p></div><div class=card><h3>Eixo 2 RPM</h3><p id=rpm2>0</p></div><div class=card><h3>Eixo 3 RPM</h3><p id=rpm3>0</p></div><div class=card><h3>Eixo 4 RPM</h3><p id=rpm4>0</p></div><div class=card><h3>Frequência Inversor</h3><p id=invFreq>0 Hz</p></div><div class=card><h3>Status Inversor</h3><p id=invStatus class=status-off>DESLIGADO</p></div></section><section class=chart-container><canvas id=vibrationChart></canvas></section><section id=operatorControl class=hidden><div class="card control-panel"><h2>Controle do Inversor WEG</h2><div class=btn-group><button class=btn-on onclick="sendControl('start')">LIGAR</button><button class=btn-off onclick="sendControl('stop')">DESLIGAR</button></div><input type=range id=freqSlider min=0 max=60 value=0 oninput=updateFreq(this.value)><p>Frequência: <span id=freqVal>0</span> Hz</p></div></section></main><div id=loginModal class=modal><div class=modal-content><h3>Acesso do Operador</h3><input type=password id=pinInput placeholder="Digite o PIN"><button onclick=checkAuth()>Entrar</button></div></div><script>let rpmChart;let simulationInterval;let motorRPM=0;let targetRPM=0;let inverterOn=false;let inverterFreq=0;window.onload=()=>{initChart();startSimulation();};function initChart(){const ctx=document.getElementById('vibrationChart').getContext('2d');rpmChart=new Chart(ctx,{type:'line',data:{labels:[],datasets:[{label:'Motor RPM',data:[],borderColor:'#ff4d4d',tension:0.3},{label:'Eixo 2 RPM',data:[],borderColor:'#4da6ff',tension:0.3},{label:'Eixo 3 RPM',data:[],borderColor:'#00ff88',tension:0.3},{label:'Eixo 4 RPM',data:[],borderColor:'#ffd633',tension:0.3}]},options:{responsive:true,animation:false,scales:{y:{beginAtZero:true,max:2000}}}});}
function sendControl(action){if(action==="start"){inverterOn=true;document.getElementById("invStatus").innerText="LIGADO";document.getElementById("invStatus").className="status-on";}
if(action==="stop"){inverterOn=false;inverterFreq=0;targetRPM=0;document.getElementById("invStatus").innerText="DESLIGADO";document.getElementById("invStatus").className="status-off";}}
function updateFreq(val){inverterFreq=parseFloat(val);document.getElementById('freqVal').innerText=val;document.getElementById('invFreq').innerText=val+" Hz";if(inverterOn){targetRPM=inverterFreq*30;}}
function openModal(){document.getElementById('loginModal').style.display='flex';}
function checkAuth(){const pin=document.getElementById('pinInput').value;if(pin==="1234"){document.getElementById('operatorControl').classList.remove('hidden');document.getElementById('loginModal').style.display='none';document.getElementById('loginBtn').innerText="Operador Logado";}else{alert("PIN Incorreto!");}}
function startSimulation(){setInterval(()=>{targetRPM=Math.floor(Math.random()*1800);},8000);simulationInterval=setInterval(()=>{motorRPM+=(targetRPM-motorRPM)*0.05;let noise=(Math.random()-0.5)*20;let rpm1=Math.max(0,motorRPM+noise);let rpm2=rpm1*0.75;let rpm3=rpm2*0.8;let rpm4=rpm3*0.9;let data={rpm1:Math.round(rpm1),rpm2:Math.round(rpm2),rpm3:Math.round(rpm3),rpm4:Math.round(rpm4)};updateInterface(data);},500);}
function updateInterface(data){document.getElementById('rpm1').innerText=data.rpm1;document.getElementById('rpm2').innerText=data.rpm2;document.getElementById('rpm3').innerText=data.rpm3;document.getElementById('rpm4').innerText=data.rpm4;rpmChart.data.labels.push(new Date().toLocaleTimeString());rpmChart.data.datasets[0].data.push(data.rpm1);rpmChart.data.datasets[1].data.push(data.rpm2);rpmChart.data.datasets[2].data.push(data.rpm3);rpmChart.data.datasets[3].data.push(data.rpm4);if(rpmChart.data.labels.length>20){rpmChart.data.labels.shift();rpmChart.data.datasets.forEach(ds=>ds.data.shift());}
rpmChart.update();}</script></body></html>